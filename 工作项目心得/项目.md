### apiTest框架/dummy-gateway路由策略
1.抽象，在dummy-gateway中如何进行单步抽象；
2.在apiTest框架中，单个http请求为一个步骤；

### 如何写文档：

### 实现开源项目时，对redisTemplate进行继承时
需要实现和redisTemplate一模一样的接口，这样可以对代码入侵减少到最小，  
业务代码不需要动，只需要在RedisConfig中修改redisTemplate为自己的实现，即可


###  sql 按条件更新
UPDATE orders set cl_ord_id = concat(
CASE source
WHEN  "alpha-liquidation" THEN "l"
WHEN "alpha-site" THEN "s"
WHEN "oms-site" THEN "o"
WHEN "fix-server" THEN "f"
ELSE "u"
END,".",id,".",0), updated_at = updated_at WHERE id=1


### 空闲时间：
即使没有特别安排的需求做，还是应该把主要精力放在项目上的，
1. 整理文档
2.完善单元测试
3.阅读代码发现可以优化的点: 代码问题，性能问题， 稳定性问题，监控问题，
4.修复线上问题


###如何做需求
1. 事前：调研，写设计文档(文档各占70%， 开发30%)；
    1. 画流程图，确定整个流程交互; 需求闭环，形成完整流程； 状态机是什么样的
    2. 数据流问题：mysql表关系交互，是否合理;(用ddd中域的概念去思考)
          步骤1和步骤2如何关联： 一条数据怎么走，几条相关的数据怎么走， 多条无关的数据怎么走
    3. 需求代码在各个模块中的定位，放在里面是否合适；需求是否合理，是否有地方可以精简，有些地方可以修改，
    3. 边界情况怎么处理;兜底怎么做；
    4. 一步一步进行扣细节，到字段上面去
    5. [接口设计原则](../架构/架构_设计模式/接口设计原则.md)
    * 注意，不要case by case，每来一个需求就新增一张表，要理解现有类似功能，尽量少加表
2. 写代码阶段：
    1. 代码整洁之道
    2. 测试
    3. 代码review
3. 事后总结
    1. 需求效果如何，达到事先预期的吗，达到领导的期望了吗，达到降低成本了吗
    2. 自我提升了吗，对业务理解是否有更深一步， 对技术有没有更深的理解，对整体流程有想法吗
    3. 经过一段时间运行后，程序出没出bug呢；
  